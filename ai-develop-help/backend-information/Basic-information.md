# 基础信息

## 开发者须知（AI无需阅读）

1. 本文为项目背景文件

## 📋 目录索引

- [项目概述](#项目概述)
- [核心功能模块](#核心功能模块)
- [技术架构](#技术架构)
- [开发环境](#开发环境)
- [部署信息](#部署信息)

## 项目概述

### 项目名称

**Higress Admin Console** - 基于Spring Boot的微服务网关管理后台

### 项目描述

Higress是一个基于Envoy Proxy构建的云原生API网关，本项目是其管理控制台的后端服务，提供完整的API网关管理功能，包括路由管理、服务管理、插件管理、证书管理等核心功能。

### 项目特点

- **微服务架构**：基于Spring Boot 2.7.18构建的微服务应用
- **云原生支持**：深度集成Kubernetes，支持CRD资源管理
- **AI能力集成**：内置AI路由、LLM提供商管理等AI相关功能
- **插件化架构**：支持WASM插件扩展，提供丰富的插件生态
- **企业级特性**：完整的认证授权、监控告警、配置管理功能

## 核心功能模块

### 1. 路由管理

- **路由配置**：支持HTTP/HTTPS路由规则配置
- **负载均衡**：多种负载均衡策略（轮询、加权轮询、最少连接等）
- **流量控制**：限流、熔断、重试等流量治理功能
- **路由匹配**：基于路径、域名、Header等条件的路由匹配

### 2. 服务管理

- **服务注册**：支持多种服务发现机制
- **健康检查**：自动服务健康状态检测
- **服务治理**：服务版本管理、灰度发布支持
- **服务监控**：服务调用链路追踪和性能监控

### 3. 插件管理

- **WASM插件**：支持WebAssembly插件扩展
- **插件市场**：内置插件和第三方插件管理
- **插件配置**：动态插件配置和热更新
- **插件监控**：插件执行性能监控

### 4. AI功能

- **AI路由**：智能路由决策和流量分发
- **LLM集成**：支持多种大语言模型提供商
- **智能分析**：基于AI的流量分析和优化建议
- **MCP服务**：模型控制协议服务管理

### 5. 安全认证

- **TLS证书管理**：SSL/TLS证书自动申请和续期
- **消费者认证**：API Key、JWT等多种认证方式
- **权限控制**：基于角色的访问控制（RBAC）
- **安全策略**：CORS、CSP等安全策略配置

### 6. 系统管理

- **配置管理**：系统配置参数管理
- **用户管理**：用户账户和权限管理
- **监控告警**：系统性能监控和告警配置
- **日志管理**：操作日志和审计日志

## 技术架构

### 1. 分层架构

```
┌─────────────────────────────────────┐
│           Controller Layer           │  ← REST API控制器层
├─────────────────────────────────────┤
│            Service Layer             │  ← 业务逻辑服务层
├─────────────────────────────────────┤
│             SDK Layer                │  ← 核心SDK层
├─────────────────────────────────────┤
│         Kubernetes Client           │  ← Kubernetes客户端
└─────────────────────────────────────┘
```

### 2. 模块结构

- **console模块**：Web应用主模块，提供REST API接口
- **sdk模块**：核心SDK模块，包含业务逻辑和Kubernetes集成
- **tools模块**：工具和脚本，支持MCP服务等

### 3. 数据流架构

```
前端请求 → Controller → Service → SDK → Kubernetes API
    ↓         ↓         ↓        ↓           ↓
  REST API  业务逻辑   核心功能   K8s集成   集群资源
```

## 开发环境

### 1. 环境要求

- **JDK版本**：Java 8+（推荐Java 11+）
- **Maven版本**：3.6+
- **Kubernetes**：1.20+（支持CRD）
- **Docker**：20.10+（容器化部署）

### 2. 核心依赖

- **Spring Boot**：2.7.18 - 主框架
- **Kubernetes Client**：17.0.0 - K8s客户端
- **Retrofit**：2.9.0 - HTTP客户端
- **Guava**：31.1-jre - 工具库
- **Fastjson**：1.2.83 - JSON处理
- **Lombok**：代码生成工具

### 3. 开发工具

- **IDE**：IntelliJ IDEA / Eclipse
- **构建工具**：Maven
- **版本控制**：Git
- **容器化**：Docker

## 部署信息

### 1. 容器化部署

- **基础镜像**：openjdk:21-jdk-slim
- **端口配置**：8080（HTTP）
- **健康检查**：/healthz 端点
- **启动脚本**：start.sh

### 2. Kubernetes部署

- **命名空间**：higress-system
- **服务类型**：ClusterIP / NodePort
- **资源配置**：CPU 500m, Memory 1Gi
- **存储需求**：无状态应用

### 3. 环境变量

- **KUBECONFIG**：Kubernetes配置文件路径
- **HIGRESS_NAMESPACE**：Higress命名空间
- **LOG_LEVEL**：日志级别配置

## 补充说明

### 1. 开发规范

- **代码风格**：遵循阿里巴巴Java开发手册
- **API设计**：RESTful API设计原则
- **异常处理**：统一异常处理机制
- **日志规范**：结构化日志输出

### 2. 测试策略

- **单元测试**：JUnit 5 + Mockito
- **集成测试**：Spring Boot Test
- **API测试**：Swagger UI测试
- **性能测试**：JMeter压力测试

### 3. 监控告警

- **健康检查**：Spring Actuator
- **指标监控**：Micrometer + Prometheus
- **日志收集**：ELK Stack
- **链路追踪**：Jaeger / Zipkin

✅ **使用方法（开发者须知）**

1. 复制本模版到 AI 工具（Cursor / 通义灵码 / Claude 等）
2. 在 **Task 部分** 填写具体需求内容
3. 提交给 AI，获得代码实现与说明

---